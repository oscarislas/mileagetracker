@import "tailwindcss";

@import "@catppuccin/tailwindcss/mocha.css";

@theme {
  /* Map Catppuccin colors to ctp- prefixed class names for compatibility */
  --color-ctp-base: var(--catppuccin-color-base);
  --color-ctp-mantle: var(--catppuccin-color-mantle);
  --color-ctp-crust: var(--catppuccin-color-crust);
  --color-ctp-surface0: var(--catppuccin-color-surface0);
  --color-ctp-surface1: var(--catppuccin-color-surface1);
  --color-ctp-surface2: var(--catppuccin-color-surface2);
  --color-ctp-overlay0: var(--catppuccin-color-overlay0);
  --color-ctp-overlay1: var(--catppuccin-color-overlay1);
  --color-ctp-overlay2: var(--catppuccin-color-overlay2);
  --color-ctp-subtext0: var(--catppuccin-color-subtext0);
  --color-ctp-subtext1: var(--catppuccin-color-subtext1);
  --color-ctp-text: var(--catppuccin-color-text);
  --color-ctp-lavender: var(--catppuccin-color-lavender);
  --color-ctp-blue: var(--catppuccin-color-blue);
  --color-ctp-sapphire: var(--catppuccin-color-sapphire);
  --color-ctp-sky: var(--catppuccin-color-sky);
  --color-ctp-teal: var(--catppuccin-color-teal);
  --color-ctp-green: var(--catppuccin-color-green);
  --color-ctp-yellow: var(--catppuccin-color-yellow);
  --color-ctp-peach: var(--catppuccin-color-peach);
  --color-ctp-maroon: var(--catppuccin-color-maroon);
  --color-ctp-red: var(--catppuccin-color-red);
  --color-ctp-mauve: var(--catppuccin-color-mauve);
  --color-ctp-pink: var(--catppuccin-color-pink);
  --color-ctp-flamingo: var(--catppuccin-color-flamingo);
  --color-ctp-rosewater: var(--catppuccin-color-rosewater);
}

/* Mobile-first responsive design with safe areas */
@layer base {
  html {
    font-family:
      "Inter",
      system-ui,
      -apple-system,
      BlinkMacSystemFont,
      "Segoe UI",
      Roboto,
      sans-serif;
    line-height: 1.5;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-text-size-adjust: 100%;
  }

  body {
    @apply bg-ctp-base text-ctp-text;
    margin: 0;
    min-height: 100vh;
    min-height: 100dvh; /* Dynamic viewport height for mobile */
  }

  #root {
    min-height: 100vh;
    min-height: 100dvh;
  }

  /* Safe area support for iOS */
  .safe-area-pb {
    padding-bottom: constant(safe-area-inset-bottom);
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Focus styles for accessibility */
  *:focus {
    @apply ring-2 ring-ctp-blue ring-offset-2 ring-offset-ctp-base;
    outline: none;
  }

  /* Remove focus outline for mouse users */
  *:focus:not(:focus-visible) {
    @apply ring-0;
  }
}

@layer components {
  /* Touch-friendly button sizes (minimum 44px) */
  .btn-touch {
    min-height: 44px;
    min-width: 44px;
  }

  /* Form input optimizations */
  input[type="date"] {
    /* Better date picker appearance on mobile */
    -webkit-appearance: none;
    -moz-appearance: textfield;
  }

  input[type="number"] {
    /* Numeric keyboard on mobile */
    -moz-appearance: textfield;
  }

  input[type="number"]::-webkit-outer-spin-button,
  input[type="number"]::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
  }

  /* Smooth transitions */
  .transition-smooth {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

@layer utilities {
  /* Scrollbar styling for webkit browsers */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: #313244 #1e1e2e;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: #1e1e2e;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #313244;
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #45475a;
  }

  /* Text truncation utilities */
  .text-truncate-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .text-truncate-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
